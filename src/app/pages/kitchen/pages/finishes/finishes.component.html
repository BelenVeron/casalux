<main>
    <app-navbar></app-navbar>

    <section>
        <div class="header web">
            <div class="logo-container web">
                <a class="img" routerLink="/luxurykitchen">
                    <img src="/assets/img/kitchen/logogreen.png" alt="">
                </a>
            </div>
            <div class="title">
                Finishes
            </div>
        </div>

        <article class="web">
            <!-- Buttons and options, by color and by category -->
            <div class="filters">
                <div class="filter" *ngFor="let filter of filters" [ngClass]="{'selected':filter.selected}">
                    <div class="title" [ngClass]="{'selected':filter.selected}">
                        <p (click)="selectFilter(filter, !filter.selected)">
                            {{filter.title}} </p>

                        <i class="fas fa-minus web" *ngIf="filter.selected" (click)="selectFilter(filter, false)"></i>
                        <i class="fas fa-plus web" *ngIf="!filter.selected" (click)="selectFilter(filter, true)"></i>
                    </div>
                    <div class="options" *ngIf="filter.selected">
                        <div class="option" [ngClass]="{'selected':option.selected}" *ngFor="let option of filter.filters" (click)="applyFilter(option)">
                            {{option.name}}
                        </div>
                    </div>
                </div>
            </div>

            <!-- Buttons and options, by palletes by category -->
            <div class="body-palettes">
                <div class="details">
                    <i class="fas fa-chevron-left arrow-left" (click)="slide(-1)"></i>
                    <i class="fas fa-chevron-right arrow-right" (click)="slide(+1)"></i>
                    <div class="sections web">
                        <div class="detail" *ngFor="let active of activeFilters;let index = index">
                            <div class="title">
                                {{active.name}}
                            </div>
                            <div class="container-palletes">
                                <div class="palettes" *ngFor="let palette of active.finishes">
                                    <div class="palette" *ngIf="!finishCollection" (click)="selectPalettes(palette, index)">
                                        <div class="img">
                                            <img [src]="url+palette.image" alt="">
                                        </div>
                                        <p class="name">{{palette.name}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>



                    <!-- MOBILE -->
                    <!-- <div class="sections mobile">
                        <div class="detail">
                            <div class="title">
                                {{mobileFilter.name}}
                            </div>

                            <div class="palettes" *ngFor="let palette of mobileFilter.finishes">
                                <div class="palette" *ngIf="!finishCollection" (click)="selectPalettes(palette, mobileFilter.index)">
                                    <div class="img">
                                        <img [src]="url+palette.image" alt="">
                                    </div>
                                    <p class="name">{{palette.name}}</p>
                                </div>
                            </div>
                        </div>
                    </div> -->

                    <div class="unique-detail" *ngIf="finishCollection">
                        <div class="close">
                            <i class="fas fa-times" (click)="finishCollection = null"></i>
                        </div>
                        <div class="header">
                            <div class="title-section">
                                <div class="unique-title">
                                    {{finishCollection.name}}
                                </div>
                                <div class="code">
                                    Code # {{finishCollection.code}}
                                </div>
                            </div>
                            <div class="fav">
                                <i class="fas fa-heart"></i>
                            </div>
                        </div>

                        <div class="collections">
                            <!-- Conditional if there is any image -->
                            <p class="title" *ngIf="finishCollection.collections.length > 0">Collection available in this color</p>
                            <p class="title" *ngIf="finishCollection.collections.length <= 0">Ask us about the collections available for this color</p>

                            <swiper *ngIf="finishCollection" class="mySwiper web" [config]="config">
                                <ng-template class="img" swiperSlide *ngFor="let img of finishCollection.collections">
                                    <img [src]="url+img.image" alt=" ">
                                    <p class="name-collection "> {{img.name}} </p>
                                </ng-template>
                            </swiper>

                            <!-- <div class="imgsmobile ">
                                <div class="img " *ngFor="let img of finishCollection.collections ">
                                    <img [src]="url+img.image " alt=" ">
                                    <p class="name-collection "> {{img.name}} </p>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </article>

        <!-- Mobile -->
        <article class="mobile">
            <!-- Index page, set changePageMobile() -->
            <div *ngIf="mobilePage === 'index'" class="animate__animated animate__fadeInUp">
                <h1 class="title">Finishes</h1>
                <img class="finishes-image" src="/assets/img/kitchen/finishes-imagen.png" alt="">
                <!-- Click button -->
                <div class="filters-buttons">
                    <div 
                        [ngClass]="{'on': filter.selected, 'off': !filter.selected}" 
                        (click)="selectFilterMobile(index)" 
                        *ngFor="let filter of filters; let index = index"
                    >{{filter.title}}</div>
                </div>
                <!-- Show colors  -->
                <div class="options" *ngIf="filters[0].selected">
                    <div class="option" [ngClass]="{'selected':option.selected}" *ngFor="let option of filters[0].filters" (click)="applyFilter(option)">
                        <p>{{option.name}}</p>
                    </div>
                </div>
            </div>
            <!-- Palletes page -->
            <div *ngIf="mobilePage === 'palettes'" class="animate__animated animate__fadeInDown">
                <!-- Buttons and options, by palletes by category -->
                <div class="sections">
                    <!-- <div class="detail" *ngFor="let active of activeFilters;let index = index"> -->
                    <h2 class="title">{{activeFilters[1].name}}</h2>
                    <div class="container-palletes-mobile" *ngFor="let palette of activeFilters[1].finishes" (click)="selectPalettes(palette, 0)" [ngStyle]="{'background-image': 'url(' + url+palette.image + ')'}">
                       <p class="name">{{palette.name}}</p> 
                    </div>
                </div>
                <app-button [config]="configUpButton" (click)="goBack()"></app-button>
            </div>
            <!-- Gallery page -->
            <div *ngIf="mobilePage === 'gallery'" class="animate__animated animate__fadeInDown">
                <!-- Buttons and options, by palletes by category -->
                <app-vertical-gallery *ngIf="finishCollection" type="scroll" [items]="finishCollection.collections"></app-vertical-gallery>
                <app-button [config]="configUpButton" (click)="goBack()"></app-button>
            </div>
        </article>


    </section>
</main>